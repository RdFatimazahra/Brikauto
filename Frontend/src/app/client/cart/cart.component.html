<!-- cart.component.html -->
<div class="cart-container">
    <h2>Cart Totals</h2>
    <table>
      <thead>
        <tr>
          <th>Product</th>
          <th>Name</th>
          <th>Unit Price</th>
          <th>Quantity</th>
          <th>Total</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of cartItems">
          <td><img [src]="item.image" [alt]="item.nom" class="cart-image"></td>
          <td>{{ item.nom }}</td>
          <td>{{ item.prix | currency:'dh' }}</td>
          <td>
            <button (click)="updateQuantity(item.idPiece, -1)"><fa-icon [icon]="faMinus"></fa-icon></button>
            {{ item.quantity }}
            <button (click)="updateQuantity(item.idPiece, 1)"><fa-icon [icon]="faPlus"></fa-icon></button>
          </td>
          <td>{{ item.prix * item.quantity | currency:'dh' }}</td>
          <td><button (click)="removeItem(item.idPiece)"><fa-icon [icon]="faTimes"></fa-icon></button></td>
        </tr>
      </tbody>
    </table>
    <div class="cart-summary">
      <p>Subtotal: {{ getTotal() | currency:'dh' }}</p>
      <p>Shipping: $30.00</p>
      <p>Total: {{ getTotal() + 30 | currency:'dh' }}</p>
      <p>Payable Total: {{ getTotal() + 30 | currency:'dh' }}</p>
      <button (click)="proceedToCheckout()" class="checkout-button">Proceed to Checkout</button>
    </div>
  </div>